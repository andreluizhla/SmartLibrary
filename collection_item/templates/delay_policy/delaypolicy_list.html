{% extends "base.html" %}

{% block title %}Política de Multa{% endblock title %}

{% block breadcrumbs %}
<ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="{% url "home_page" %}">Início</a></li>
    <li class="breadcrumb-item active">Política de Multa</li>
</ol>
{% endblock breadcrumbs %}


{% block main_content %}
    <h1>Política de Multa {% if user.type_user == 2 %}
        <a href="{% url 'delay_policy_create' %}" class="btn btn-primary btn-sm" data-bs-toggle="tooltip" data-bs-title="Cadastrar Multa"><i class="bi bi-plus-circle"></i></a>
    {% endif %}</h1>
    <div class="table-responsive">
        <table class="table table-striped table-hover table-sm">
            <thead>
                <tr>
                    {% comment %} <th scope="col">ID</th> {% endcomment %}
                    <th scope="col">USUÁRIO</th>
                    <th scope="col">ITEM</th>
                    <th scope="col">VALOR DA MULTA</th>
                    <th scope="col">PRAZO MÁXIMO</th>
                    <th scope="col">LIMITE DE ITENS</th>
                    <th scope="col">TOLERÂNCIA</th>
                    {% if user.type_user == 2 %}
                        <th scope="col">AÇÕES</th>
                    {% endif %}
                </tr>
            </thead>
            <tbody>
                {% for item in delaypolicy_list %}
                    <tr>
                        {% comment %} <td scope="row"> {{ item.id }} </td> {% endcomment %}
                        <td scope="row"> {{ item.get_type_user_display }} </td>
                        <td scope="row"> {{ item.get_type_item_display }} </td>
                        <td scope="row"> {{ item.fine_value_formatted }} </td>
                        <td scope="row"> {{ item.max_days }} dias </td>
                        <td scope="row"> {{ item.item_limits }} dias </td>
                        <td scope="row"> {{ item.delay_tolerance_formatted|default:"-" }} </td>
                        {% if user.type_user == 2 %}
                            <td>
                                <div class="btn-group">
                                <a href="{% url "delay_policy_update" item.pk %}" class="btn btn-primary btn-sm" data-bs-toggle="tooltip" data-bs-title="Editar"><i class="bi bi-pencil"></i></a>
                                <a href="{% url "delay_policy_delete" item.pk %}" class="btn btn-danger btn-sm" data-bs-toggle="tooltip" data-bs-title="Excluir"><i class="bi bi-trash"></i></a>
                                </div>
                            </td>
                        {% endif %}
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="7" class="text-center">Nenhuma Multa Cadastrada</td>
                    </tr>
                    {% endfor %}
                </tbody>
        </table>
    </div>
{% endblock main_content %}